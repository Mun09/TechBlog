# 12장: Data Source

데이터 소스는 dbms와의 연결을 관리하는 구성요소다. java앱에서 관계형 데이터베이스와 연결하도록 도와주는 기능은 JDBC가 한다. 그러나 JDK는 특정 DBMS(MYSQL, Oracle 등)을 위한 구체적인 구현 대신 추상화만 제공한다. 따라서 JDBC 드라이버를 런타임 종속성에 추가해야 하며, 해당 드라이버는 각 DBMS 벤더에서 제공한다.

JDBC 드라이버 매니저를 직접 사용한다면 각 요청마다 새롭게 연결을 설정해야 하므로 자원과 시간 낭비다. 따라서 데이터 소스가 연결을 대신 관리해준다면 persistence 계층의 퍼포먼스를 향상시키고 데이터베이스와 의 연결을 효율적이게 만들어준다. 자바 앱에서 가장 흔한 데이터 소스는 HikariCP이고 스프링 부트의 디폴트 데이터 소스이기도 하다.

jdbcTemplate은 스프링이 제공하는 가장 간단한 도구이고, 작은 앱에 적합하다. 다른 특정 지속성 프레임워크를 사용하지 않아도, 추가 의존성을 원하지 않는다면 가장 적합하다. JdbcTemplate의 사용법을 설명하기 위해 다음 단계를 따라 예제를 구현합니다:

1. DBMS에 연결 생성
2. 레포지토리 로직 작성
3. REST 엔드포인트의 동작을 구현하는 메서드에서 리포지토리 메서드 호출

자바에서 floating-point 값을 정확히 저장하려면 타입을 BigDecimal로 저장하자. 스프링 부트는 h2 의존성을 추가하면 자동적으로 데이터소스와 JdbcTemplate 인스턴스를 구성한다.
